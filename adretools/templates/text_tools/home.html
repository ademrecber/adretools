{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Text Tools" %}{% endblock %}

{% block extra_css %}
<style>
.stats-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
.transform-card { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
.encode-card { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; }
.format-card { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; }
.stat-item { border-bottom: 1px solid rgba(255,255,255,0.2); padding: 8px 0; }
.stat-item:last-child { border-bottom: none; }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="text-center mb-5">
        <a href="/" class="btn btn-outline-secondary mb-3">
            <i class="fas fa-home"></i> {% trans "Back to Home" %}
        </a>
        <h1 class="display-4 text-primary">üìù {% trans "Text Tools" %}</h1>
        <p class="lead">{% trans "Analyze, transform and format texts" %}</p>
        <button class="btn btn-outline-info mb-3" data-bs-toggle="modal" data-bs-target="#textGuideModal">
            <i class="fas fa-question-circle"></i> {% trans "Usage Guide" %}
        </button>
    </div>

    <div class="row">
        <!-- Metin Giri≈üi -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5><i class="fas fa-edit"></i> {% trans "Text Input" %}</h5>
                </div>
                <div class="card-body">
                    <textarea id="inputText" class="form-control" rows="15" placeholder="{% trans 'Write your text here...' %}"></textarea>
                    <small class="text-muted mt-2 d-block">{% trans "Your text will be automatically analyzed" %}</small>
                </div>
            </div>
        </div>

        <!-- Sonu√ßlar -->
        <div class="col-md-6">
            <!-- ƒ∞statistikler -->
            <div class="card stats-card mb-3">
                <div class="card-header">
                    <h5><i class="fas fa-chart-bar"></i> {% trans "Text Statistics" %}</h5>
                </div>
                <div class="card-body" id="textStats">
                    <div class="stat-item"><strong>{% trans "Characters (with spaces)" %}:</strong> <span id="charCount">0</span></div>
                    <div class="stat-item"><strong>{% trans "Characters (without spaces)" %}:</strong> <span id="charNoSpaces">0</span></div>
                    <div class="stat-item"><strong>{% trans "Word count" %}:</strong> <span id="wordCount">0</span></div>
                    <div class="stat-item"><strong>{% trans "Line count" %}:</strong> <span id="lineCount">0</span></div>
                    <div class="stat-item"><strong>{% trans "Paragraph count" %}:</strong> <span id="paragraphCount">0</span></div>
                    <div class="stat-item"><strong>{% trans "Digit count" %}:</strong> <span id="digitCount">0</span></div>
                    <div class="stat-item"><strong>{% trans "Letter count" %}:</strong> <span id="letterCount">0</span></div>
                    <div class="stat-item"><strong>{% trans "Longest word" %}:</strong> <span id="longestWord">-</span></div>
                    <div class="stat-item"><strong>{% trans "Average word length" %}:</strong> <span id="avgWordLength">0</span></div>
                </div>
            </div>

            <!-- D√∂n√º≈üt√ºrme -->
            <div class="card transform-card mb-3">
                <div class="card-header">
                    <h5><i class="fas fa-exchange-alt"></i> {% trans "Text Transformation" %}</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('uppercase')">{% trans "UPPERCASE" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('lowercase')">{% trans "lowercase" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('title')">{% trans "Title Case" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('reverse')">{% trans "Reverse" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('slug')">{% trans "URL Slug" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('clean_spaces')">{% trans "Clean Spaces" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('clean_special')">{% trans "Remove Special Chars" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="transformText('clean_html')">{% trans "Clean HTML" %}</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Kodlama -->
            <div class="card encode-card mb-3">
                <div class="card-header">
                    <h5><i class="fas fa-code"></i> {% trans "Encoding & Hash" %}</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="encodeText('base64_encode')">{% trans "Base64 Encode" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="encodeText('base64_decode')">{% trans "Base64 Decode" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="encodeText('url_encode')">{% trans "URL Encode" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="encodeText('url_decode')">{% trans "URL Decode" %}</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="encodeText('md5')">MD5 Hash</button>
                        </div>
                        <div class="col-6 mb-2">
                            <button class="btn btn-light btn-sm btn-block" onclick="encodeText('sha256')">SHA256 Hash</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Format -->
            <div class="card format-card">
                <div class="card-header">
                    <h5><i class="fas fa-align-left"></i> {% trans "JSON Format" %}</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-6">
                            <button class="btn btn-light btn-sm btn-block" onclick="formatText('json_format')">{% trans "JSON Beautify" %}</button>
                        </div>
                        <div class="col-6">
                            <button class="btn btn-light btn-sm btn-block" onclick="formatText('json_minify')">{% trans "JSON Minify" %}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

<!-- Text Tools Guide Modal -->
<div class="modal fade" id="textGuideModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="fas fa-book"></i> {% trans "Text Processing Guide" %}</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="accordion" id="textGuideAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#analysisGuide">
                                <i class="fas fa-chart-bar text-primary me-2"></i> {% trans "Text Analysis" %}
                            </button>
                        </h2>
                        <div id="analysisGuide" class="accordion-collapse collapse show" data-bs-parent="#textGuideAccordion">
                            <div class="accordion-body">
                                <p>{% trans "Get detailed statistics about your text:" %}</p>
                                <ul>
                                    <li>{% trans "Character count (with/without spaces)" %}</li>
                                    <li>{% trans "Word count for essays and articles" %}</li>
                                    <li>{% trans "Reading statistics and structure" %}</li>
                                </ul>
                                <div class="alert alert-info">
                                    <strong>{% trans "Use for:" %}</strong> {% trans "Academic papers, SEO content, social media" %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#transformGuide">
                                <i class="fas fa-exchange-alt text-success me-2"></i> {% trans "Text Transformation" %}
                            </button>
                        </h2>
                        <div id="transformGuide" class="accordion-collapse collapse" data-bs-parent="#textGuideAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li><strong>{% trans "Case Changes:" %}</strong> {% trans "UPPERCASE, lowercase, Title Case" %}</li>
                                    <li><strong>{% trans "URL Slug:" %}</strong> {% trans "SEO-friendly URLs" %}</li>
                                    <li><strong>{% trans "Clean Text:" %}</strong> {% trans "Remove extra spaces, special chars" %}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#encodingGuide">
                                <i class="fas fa-code text-warning me-2"></i> {% trans "Encoding & Hashing" %}
                            </button>
                        </h2>
                        <div id="encodingGuide" class="accordion-collapse collapse" data-bs-parent="#textGuideAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li><strong>Base64:</strong> {% trans "Data encoding for web/email" %}</li>
                                    <li><strong>URL Encoding:</strong> {% trans "Safe URL parameters" %}</li>
                                    <li><strong>MD5/SHA256:</strong> {% trans "Hash generation" %}</li>
                                    <li><strong>JSON:</strong> {% trans "Format and validate JSON data" %}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-info mt-3">
                    <i class="fas fa-info-circle"></i> <strong>{% trans "Real-time:" %}</strong> {% trans "All processing happens instantly in browser" %}
                </div>
            </div>
        </div>
    </div>
</div>

{% block extra_js %}
<script src="{% static 'js/text-tools.js' %}"></script>
{% endblock %}